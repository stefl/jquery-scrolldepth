/*!
 * jquery.scrolldepth.js | v0.1.2
 * Copyright (c) 2012 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
;(function(e,t,n,r){"use strict";var i={elements:[],minHeight:0,offset:0,percentage:true,testing:false},s=e(t),o=[];e.scrollDepth=function(r){function a(t,n,i){if(!r.testing){ga("send","event","Scroll Depth",t,n,1,{nonInteraction:1});if(arguments.length>2){ga("send","timing","Scroll Depth",t,i,n)}}else{e("#console").html(t+": "+n)}}function f(e){return{"25%":parseInt(e*.25,10),"50%":parseInt(e*.5,10),"75%":parseInt(e*.75,10),"100%":e-1}}function l(t,n,r){e.each(t,function(t,i){if(e.inArray(t,o)===-1&&n>=i){a("Percentage",t,r);o.push(t)}})}function c(t,n,r){e.each(t,function(t,i){if(e.inArray(i,o)===-1&&e(i).length){if(n>=e(i).offset().top){a("Elements",i,r);o.push(i)}}})}var u=+(new Date);r=e.extend({},i,r);if(e(n).height()<r.minHeight){return}a("Percentage","Baseline");s.on("scroll.scrollDepth",function(){var i=e(n).height(),a=t.innerHeight?t.innerHeight:s.height(),h=s.scrollTop()+a,p=parseInt(a*(r.offset/100),10),d=f(i),v=+(new Date)-u;if(o.length>=4+r.elements.length){s.off("scroll.scrollDepth");return}if(r.elements){c(r.elements,h,v)}if(r.percentage){l(d,h,v)}})}})(jQuery,window,document);